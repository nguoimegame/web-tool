---
import EncodingPage from '../../components/EncodingPage.astro';
import { useTranslations } from '../../i18n/utils';

const t = useTranslations('en');
const title = t('html_encode.title');
const description = t('html_encode.description');
const toolName = t('encode');
const jsFile = "htmlencode.min.js";
const activePage = "encoding/html_encode";
---

<EncodingPage
    title={title}
    description={description}
    toolName={toolName}
    jsFile={jsFile}
    activePage={activePage}
    reverseLink="encoding/html_decode"
    hasInputSettings={false}
    hasOutputSettings={false}
    initScript={`
        window.method = htmlEncode;
        methodLoad();
    `}
>
    <div slot="settings">
        <div class="setting">
            <label class="switcher">
                <input type="checkbox" value="1" id="pretty-display" data-option="pretty-display" data-remember="pretty-display" />
                <div class="toggle"></div>
                <span>{t('pretty_display')}</span>
            </label>
        </div>
    </div>

    <script is:inline slot="scripts" set:html={`
        delayScripts.push({
            src: '/js/clipboard.min.js',
            onload: function () {
                new ClipboardJS('[data-toggle="copy"]').on('success', function (e) {
                    showMessage(e.trigger.getAttribute('data-message'));
                    gtag('event', 'copy');
                });
            },
            delay: 100
        });
        ++waitLoadCount;
        delayScripts.push({
            src: '/js/monaco-editor.js?v=1',
            onload: function () {
                methodLoad();
            }
        });
    `}></script>
</EncodingPage>
